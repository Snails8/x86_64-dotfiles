{"/home/marabesi/Documents/php-import-checker/src/core.ts":{"path":"/home/marabesi/Documents/php-import-checker/src/core.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":38}},"2":{"start":{"line":4,"column":18},"end":{"line":4,"column":45}},"3":{"start":{"line":6,"column":19},"end":{"line":6,"column":21}},"4":{"start":{"line":7,"column":4},"end":{"line":27,"column":5}},"5":{"start":{"line":8,"column":30},"end":{"line":8,"column":71}},"6":{"start":{"line":9,"column":30},"end":{"line":15,"column":9}},"7":{"start":{"line":16,"column":30},"end":{"line":16,"column":79}},"8":{"start":{"line":17,"column":8},"end":{"line":23,"column":9}},"9":{"start":{"line":18,"column":42},"end":{"line":18,"column":71}},"10":{"start":{"line":19,"column":30},"end":{"line":19,"column":85}},"11":{"start":{"line":20,"column":12},"end":{"line":22,"column":13}},"12":{"start":{"line":21,"column":16},"end":{"line":21,"column":42}},"13":{"start":{"line":26,"column":8},"end":{"line":26,"column":29}},"14":{"start":{"line":28,"column":4},"end":{"line":28,"column":18}},"15":{"start":{"line":30,"column":0},"end":{"line":30,"column":52}}},"fnMap":{"0":{"name":"extractUnusedImports","decl":{"start":{"line":5,"column":9},"end":{"line":5,"column":29}},"loc":{"start":{"line":5,"column":42},"end":{"line":29,"column":1}},"line":5}},"branchMap":{"0":{"loc":{"start":{"line":20,"column":12},"end":{"line":22,"column":13}},"type":"if","locations":[{"start":{"line":20,"column":12},"end":{"line":22,"column":13}},{"start":{"line":20,"column":12},"end":{"line":22,"column":13}}],"line":20}},"s":{"0":1,"1":1,"2":1,"3":22,"4":22,"5":22,"6":21,"7":21,"8":21,"9":42,"10":42,"11":42,"12":26,"13":1,"14":22,"15":1},"f":{"0":22},"b":{"0":[26,16]},"inputSourceMap":{"version":3,"file":"/home/marabesi/Documents/php-import-checker/src/core.ts","sources":["/home/marabesi/Documents/php-import-checker/src/core.ts"],"names":[],"mappings":";;;AAEA,8CAA2C;AAE3C,SAAgB,oBAAoB,CAAC,UAAkB;IACnD,MAAM,MAAM,GAAiB,EAAE,CAAC;IAChC,IAAI;QACA,MAAM,aAAa,GAAsB,IAAI,iBAAO,CAAC,UAAU,CAAC,CAAC,KAAK,EAAE,CAAA;QAExE,MAAM,aAAa,GAAa;YAC5B,GAAG,aAAa,CAAC,WAAW,CAAC,oBAAoB,EAAE;YACnD,GAAG,aAAa,CAAC,OAAO,CAAC,oBAAoB,EAAE;YAC/C,GAAG,aAAa,CAAC,OAAO,CAAC,2BAA2B,EAAE;YACtD,GAAG,aAAa,CAAC,OAAO,CAAC,oBAAoB,EAAE;YAC/C,GAAG,aAAa,CAAC,OAAO,CAAC,0BAA0B,EAAE;SACxD,CAAC;QAEF,MAAM,aAAa,GAAG,aAAa,CAAC,UAAU,CAAC,sBAAsB,EAAE,CAAC;QAExE,KAAK,MAAM,YAAY,IAAI,aAAa,EAAE;YACtC,MAAM,qBAAqB,GAAG,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;YAC5D,MAAM,SAAS,GAAG,qBAAqB,CAAC,qBAAqB,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;YAE1E,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,SAAS,CAAC,EAAE;gBACpC,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;aAC7B;SACJ;KACJ;IAAC,OAAO,KAAK,EAAE;QACZ,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;KACxB;IAED,OAAO,MAAM,CAAC;AAClB,CAAC;AA5BD,oDA4BC","sourcesContent":["import { PhpUseItem } from './types/Nodes';\nimport { ParsedPhpContent } from './types/ParsedPhpContent';\nimport { Builder } from './parser/Builder';\n\nexport function extractUnusedImports(sourceCode: string): PhpUseItem[] {\n    const unused: PhpUseItem[] = [];\n    try {\n        const parsedContent : ParsedPhpContent = new Builder(sourceCode).build()\n\n        const unusedImports: string[] = [\n            ...parsedContent.expressions.normalizeExpressions(),\n            ...parsedContent.methods.normalizeReturnTypes(),\n            ...parsedContent.methods.normalizeMethodArgumentList(),\n            ...parsedContent.methods.normalizeMethodCalls(),\n            ...parsedContent.methods.normalizeCallInsideMethods(),\n        ];\n\n        const useStatements = parsedContent.namespaces.normalizeUseStatements();\n\n        for (const useStatement of useStatements) {\n            const classNameAndNamespace = useStatement.name.split('\\\\');\n            const className = classNameAndNamespace[classNameAndNamespace.length - 1];\n\n            if (!unusedImports.includes(className)) {\n                unused.push(useStatement);\n            }\n        }\n    } catch (error) {\n        console.error(error);\n    }\n\n    return unused;\n}"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"b9aac98f0ae3facffe902e25970f8cd2f417a635","contentHash":"359b7eb66a4ed755e377404fb08e70dfed85c7c28c7a3d782e5786354d75ca63"},"/home/marabesi/Documents/php-import-checker/src/parser/Builder.ts":{"path":"/home/marabesi/Documents/php-import-checker/src/parser/Builder.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":25}},"2":{"start":{"line":4,"column":21},"end":{"line":4,"column":42}},"3":{"start":{"line":5,"column":14},"end":{"line":5,"column":30}},"4":{"start":{"line":6,"column":20},"end":{"line":6,"column":42}},"5":{"start":{"line":7,"column":17},"end":{"line":7,"column":36}},"6":{"start":{"line":8,"column":21},"end":{"line":8,"column":44}},"7":{"start":{"line":9,"column":15},"end":{"line":19,"column":2}},"8":{"start":{"line":22,"column":8},"end":{"line":22,"column":37}},"9":{"start":{"line":23,"column":8},"end":{"line":23,"column":67}},"10":{"start":{"line":24,"column":8},"end":{"line":24,"column":60}},"11":{"start":{"line":27,"column":8},"end":{"line":31,"column":10}},"12":{"start":{"line":34,"column":0},"end":{"line":34,"column":26}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":21,"column":4},"end":{"line":21,"column":5}},"loc":{"start":{"line":21,"column":28},"end":{"line":25,"column":5}},"line":21},"1":{"name":"(anonymous_1)","decl":{"start":{"line":26,"column":4},"end":{"line":26,"column":5}},"loc":{"start":{"line":26,"column":12},"end":{"line":32,"column":5}},"line":26}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":22,"9":22,"10":21,"11":21,"12":1},"f":{"0":22,"1":21},"b":{},"inputSourceMap":{"version":3,"file":"/home/marabesi/Documents/php-import-checker/src/parser/Builder.ts","sources":["/home/marabesi/Documents/php-import-checker/src/parser/Builder.ts"],"names":[],"mappings":";;;AAAA,2CAA6C;AAC7C,+BAA+B;AAC/B,2CAAwC;AACxC,qCAAkC;AAClC,6CAA0C;AAI1C,MAAM,MAAM,GAAG,IAAI,mBAAM,CAAC;IACtB,MAAM,EAAE;QACJ,UAAU,EAAE,KAAK;KACpB;IACD,GAAG,EAAE;QACD,aAAa,EAAE,IAAI;KACtB;IACD,KAAK,EAAE;QACH,cAAc,EAAE,KAAK;KACxB;CACJ,CAAC,CAAC;AAEH,MAAa,OAAO;IAKhB,YAAoB,UAAkB;QAAlB,eAAU,GAAV,UAAU,CAAQ;QAClC,IAAI,CAAC,aAAa,GAAG,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU,EAAE,EAAE,CAAC,CAAC;QAC3D,IAAI,CAAC,MAAM,GAAG,IAAA,YAAM,EAAC,IAAI,CAAC,aAAa,CAAC,CAAC;IAC7C,CAAC;IAED,KAAK;QACD,OAAO;YACH,UAAU,EAAE,IAAI,qBAAS,CAAC,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC;YACjD,OAAO,EAAE,IAAI,eAAM,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC;YACxC,WAAW,EAAE,IAAI,uBAAU,CAAC,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC;SACvD,CAAC;IACN,CAAC;CACJ;AAjBD,0BAiBC","sourcesContent":["import { Engine, Program } from 'php-parser';\nimport { walker } from './Ast';\nimport { Namespace } from './Namespace';\nimport { Method } from './Method';\nimport { Expression } from './Expression';\nimport { Walker } from '../types/Walker';\nimport { ParsedPhpContent } from '../types/ParsedPhpContent';\n\nconst parser = new Engine({\n    parser: {\n        extractDoc: false,\n    },\n    ast: {\n        withPositions: true\n    },\n    lexer: {\n        comment_tokens: false\n    }\n});\n\nexport class Builder {\n\n    private parsedContent: Program;\n    private walker: Walker;\n\n    constructor(private sourceCode: string) {\n        this.parsedContent = parser.parseCode(this.sourceCode, '');\n        this.walker = walker(this.parsedContent);\n    }\n\n    build() : ParsedPhpContent {\n        return {\n            namespaces: new Namespace(this.walker.namespaces),\n            methods: new Method(this.walker.methods),\n            expressions: new Expression(this.walker.expressions),\n        };\n    }\n}"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"a67d0f4de735e9292835298fd77a3e481803ee8c","contentHash":"c8b080141cb830610a604cb2d3542f1c9abdc2d824a0bc7f57aa9306f8a3a489"},"/home/marabesi/Documents/php-import-checker/src/parser/Ast.ts":{"path":"/home/marabesi/Documents/php-import-checker/src/parser/Ast.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":24}},"2":{"start":{"line":4,"column":16},"end":{"line":4,"column":41}},"3":{"start":{"line":6,"column":20},"end":{"line":6,"column":22}},"4":{"start":{"line":7,"column":23},"end":{"line":7,"column":25}},"5":{"start":{"line":8,"column":24},"end":{"line":8,"column":26}},"6":{"start":{"line":10,"column":8},"end":{"line":12,"column":9}},"7":{"start":{"line":11,"column":12},"end":{"line":11,"column":36}},"8":{"start":{"line":13,"column":8},"end":{"line":15,"column":9}},"9":{"start":{"line":14,"column":12},"end":{"line":14,"column":62}},"10":{"start":{"line":14,"column":50},"end":{"line":14,"column":60}},"11":{"start":{"line":16,"column":8},"end":{"line":18,"column":9}},"12":{"start":{"line":17,"column":12},"end":{"line":17,"column":35}},"13":{"start":{"line":19,"column":8},"end":{"line":22,"column":9}},"14":{"start":{"line":20,"column":12},"end":{"line":20,"column":37}},"15":{"start":{"line":21,"column":12},"end":{"line":21,"column":53}},"16":{"start":{"line":21,"column":41},"end":{"line":21,"column":51}},"17":{"start":{"line":23,"column":8},"end":{"line":25,"column":9}},"18":{"start":{"line":24,"column":12},"end":{"line":24,"column":37}},"19":{"start":{"line":26,"column":8},"end":{"line":28,"column":9}},"20":{"start":{"line":27,"column":12},"end":{"line":27,"column":57}},"21":{"start":{"line":27,"column":45},"end":{"line":27,"column":55}},"22":{"start":{"line":30,"column":4},"end":{"line":30,"column":16}},"23":{"start":{"line":31,"column":4},"end":{"line":35,"column":6}},"24":{"start":{"line":37,"column":0},"end":{"line":37,"column":24}}},"fnMap":{"0":{"name":"walker","decl":{"start":{"line":5,"column":9},"end":{"line":5,"column":15}},"loc":{"start":{"line":5,"column":23},"end":{"line":36,"column":1}},"line":5},"1":{"name":"walk","decl":{"start":{"line":9,"column":13},"end":{"line":9,"column":17}},"loc":{"start":{"line":9,"column":25},"end":{"line":29,"column":5}},"line":9},"2":{"name":"(anonymous_2)","decl":{"start":{"line":14,"column":40},"end":{"line":14,"column":41}},"loc":{"start":{"line":14,"column":50},"end":{"line":14,"column":60}},"line":14},"3":{"name":"(anonymous_3)","decl":{"start":{"line":21,"column":31},"end":{"line":21,"column":32}},"loc":{"start":{"line":21,"column":41},"end":{"line":21,"column":51}},"line":21},"4":{"name":"(anonymous_4)","decl":{"start":{"line":27,"column":35},"end":{"line":27,"column":36}},"loc":{"start":{"line":27,"column":45},"end":{"line":27,"column":55}},"line":27}},"branchMap":{"0":{"loc":{"start":{"line":10,"column":8},"end":{"line":12,"column":9}},"type":"if","locations":[{"start":{"line":10,"column":8},"end":{"line":12,"column":9}},{"start":{"line":10,"column":8},"end":{"line":12,"column":9}}],"line":10},"1":{"loc":{"start":{"line":13,"column":8},"end":{"line":15,"column":9}},"type":"if","locations":[{"start":{"line":13,"column":8},"end":{"line":15,"column":9}},{"start":{"line":13,"column":8},"end":{"line":15,"column":9}}],"line":13},"2":{"loc":{"start":{"line":13,"column":12},"end":{"line":13,"column":68}},"type":"binary-expr","locations":[{"start":{"line":13,"column":12},"end":{"line":13,"column":54}},{"start":{"line":13,"column":58},"end":{"line":13,"column":68}}],"line":13},"3":{"loc":{"start":{"line":16,"column":8},"end":{"line":18,"column":9}},"type":"if","locations":[{"start":{"line":16,"column":8},"end":{"line":18,"column":9}},{"start":{"line":16,"column":8},"end":{"line":18,"column":9}}],"line":16},"4":{"loc":{"start":{"line":16,"column":12},"end":{"line":16,"column":60}},"type":"binary-expr","locations":[{"start":{"line":16,"column":12},"end":{"line":16,"column":17}},{"start":{"line":16,"column":21},"end":{"line":16,"column":60}}],"line":16},"5":{"loc":{"start":{"line":19,"column":8},"end":{"line":22,"column":9}},"type":"if","locations":[{"start":{"line":19,"column":8},"end":{"line":22,"column":9}},{"start":{"line":19,"column":8},"end":{"line":22,"column":9}}],"line":19},"6":{"loc":{"start":{"line":19,"column":12},"end":{"line":19,"column":114}},"type":"binary-expr","locations":[{"start":{"line":19,"column":12},"end":{"line":19,"column":22}},{"start":{"line":19,"column":27},"end":{"line":19,"column":68}},{"start":{"line":19,"column":72},"end":{"line":19,"column":113}}],"line":19},"7":{"loc":{"start":{"line":23,"column":8},"end":{"line":25,"column":9}},"type":"if","locations":[{"start":{"line":23,"column":8},"end":{"line":25,"column":9}},{"start":{"line":23,"column":8},"end":{"line":25,"column":9}}],"line":23},"8":{"loc":{"start":{"line":26,"column":8},"end":{"line":28,"column":9}},"type":"if","locations":[{"start":{"line":26,"column":8},"end":{"line":28,"column":9}},{"start":{"line":26,"column":8},"end":{"line":28,"column":9}}],"line":26}},"s":{"0":1,"1":1,"2":1,"3":21,"4":21,"5":21,"6":127,"7":5,"8":127,"9":16,"10":9,"11":127,"12":40,"13":127,"14":19,"15":19,"16":19,"17":127,"18":2,"19":127,"20":37,"21":78,"22":21,"23":21,"24":1},"f":{"0":21,"1":127,"2":9,"3":19,"4":78},"b":{"0":[5,122],"1":[16,111],"2":[127,17],"3":[40,87],"4":[127,127],"5":[19,108],"6":[127,38,20],"7":[2,125],"8":[37,90]},"inputSourceMap":{"version":3,"file":"/home/marabesi/Documents/php-import-checker/src/parser/Ast.ts","sources":["/home/marabesi/Documents/php-import-checker/src/parser/Ast.ts"],"names":[],"mappings":";;;AAEA,0CAAqF;AAErF,SAAgB,MAAM,CAAC,KAAY;IAC/B,MAAM,OAAO,GAAqB,EAAE,CAAC;IACrC,MAAM,UAAU,GAAiB,EAAE,CAAC;IACpC,MAAM,WAAW,GAAoB,EAAE,CAAC;IAExC,SAAS,IAAI,CAAC,KAAU;QACpB,IAAI,KAAK,CAAC,IAAI,KAAK,gBAAQ,CAAC,cAAc,EAAE;YACxC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;SAC3B;QAED,IAAI,KAAK,CAAC,IAAI,KAAK,gBAAQ,CAAC,UAAU,IAAI,KAAK,CAAC,IAAI,EAAE;YAClD,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,IAAU,EAAE,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAA;SAC1D;QAED,IAAI,KAAK,IAAI,KAAK,CAAC,IAAI,KAAK,gBAAQ,CAAC,OAAO,EAAE;YAC1C,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;SAC1B;QAED,IAAI,KAAK,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC,IAAI,KAAK,gBAAQ,CAAC,SAAS,IAAI,KAAK,CAAC,IAAI,KAAK,gBAAQ,CAAC,SAAS,CAAC,EAAE;YACxF,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;YACzB,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,IAAU,EAAE,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAA;SACjD;QAED,IAAI,KAAK,CAAC,IAAI,KAAK,gBAAQ,CAAC,aAAa,EAAE;YACvC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;SAC5B;QAED,IAAI,KAAK,CAAC,QAAQ,EAAE;YAChB,KAAK,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,IAAU,EAAE,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;SACtD;IACL,CAAC;IAED,IAAI,CAAC,KAAK,CAAC,CAAC;IAEZ,OAAO;QACH,OAAO;QACP,UAAU;QACV,WAAW;KACd,CAAA;AACL,CAAC;AAvCD,wBAuCC","sourcesContent":["import { Node, Block } from 'php-parser';\nimport { Walker } from '../types/Walker';\nimport { PhpUseItem, PhpClassMethod, PhpExpression, PhpTypes } from '../types/Nodes';\n\nexport function walker(nodes: Block): Walker {\n    const methods: PhpClassMethod[] = [];\n    const namespaces: PhpUseItem[] = [];\n    const expressions: PhpExpression[] = [];\n\n    function walk(nodes: any) {\n        if (nodes.kind === PhpTypes.PHP_EXPRESSION) {\n            expressions.push(nodes);\n        }\n\n        if (nodes.kind === PhpTypes.PHP_METHOD && nodes.body) {\n            nodes.body.children.forEach((node: Node) => walk(node))\n        }\n\n        if (nodes && nodes.kind === PhpTypes.PHP_USE) {\n            namespaces.push(nodes);\n        }\n\n        if (nodes.body && (nodes.kind === PhpTypes.PHP_CLASS || nodes.kind === PhpTypes.PHP_TRAIT)) {\n            methods.push(nodes.body);\n            nodes.body.forEach((node: Node) => walk(node))\n        }\n\n        if (nodes.kind === PhpTypes.PHP_INTERFACE) {\n            methods.push(nodes.body);\n        }\n\n        if (nodes.children) {\n            nodes.children.forEach((node: Node) => walk(node));\n        }\n    }\n\n    walk(nodes);\n\n    return {\n        methods,\n        namespaces,\n        expressions,\n    }\n}"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"d5d39a55815006e2d4df230f898e6d96035df341","contentHash":"6b5bceef4873e4454ac68f7d55cefa0ed9f8e89ae2ee6cd0ce065efdb93ccc3b"},"/home/marabesi/Documents/php-import-checker/src/types/Nodes.ts":{"path":"/home/marabesi/Documents/php-import-checker/src/types/Nodes.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":26}},"2":{"start":{"line":5,"column":0},"end":{"line":12,"column":59}},"3":{"start":{"line":6,"column":4},"end":{"line":6,"column":55}},"4":{"start":{"line":7,"column":4},"end":{"line":7,"column":38}},"5":{"start":{"line":8,"column":4},"end":{"line":8,"column":37}},"6":{"start":{"line":9,"column":4},"end":{"line":9,"column":36}},"7":{"start":{"line":10,"column":4},"end":{"line":10,"column":36}},"8":{"start":{"line":11,"column":4},"end":{"line":11,"column":44}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":1},"end":{"line":5,"column":2}},"loc":{"start":{"line":5,"column":21},"end":{"line":12,"column":1}},"line":5}},"branchMap":{"0":{"loc":{"start":{"line":12,"column":14},"end":{"line":12,"column":57}},"type":"binary-expr","locations":[{"start":{"line":12,"column":14},"end":{"line":12,"column":30}},{"start":{"line":12,"column":35},"end":{"line":12,"column":56}}],"line":12}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1},"f":{"0":1},"b":{"0":[1,1]},"inputSourceMap":{"version":3,"file":"/home/marabesi/Documents/php-import-checker/src/types/Nodes.ts","sources":["/home/marabesi/Documents/php-import-checker/src/types/Nodes.ts"],"names":[],"mappings":";;;AAEA,IAAY,QAOX;AAPD,WAAY,QAAQ;IAChB,kDAAsC,CAAA;IACtC,iCAAqB,CAAA;IACrB,gCAAoB,CAAA;IACpB,+BAAmB,CAAA;IACnB,+BAAmB,CAAA;IACnB,uCAA2B,CAAA;AAC/B,CAAC,EAPW,QAAQ,GAAR,gBAAQ,KAAR,gBAAQ,QAOnB","sourcesContent":["import { Node } from 'php-parser';\n\nexport enum PhpTypes {\n    PHP_EXPRESSION = 'expressionstatement',\n    PHP_METHOD = 'method',\n    PHP_USE = 'usegroup',\n    PHP_CLASS = 'class',\n    PHP_TRAIT = 'trait',\n    PHP_INTERFACE = 'interface',\n}\n\nexport interface PhpUseItemAlias extends Node {\n    name: string;\n}\n\nexport interface PhpUseItem extends Node {\n    name: string;\n    alias?: PhpUseItemAlias;\n    items?: Node[];\n}\n\nexport interface PhpClassMethod extends Node {\n    body?: Node[];\n    arguments?: PhpClassMethodArguments[];\n}\n\nexport interface PhpExpression extends Node {\n}\n\nexport interface PhpClassMethodArguments extends Node {\n    type?: any[];\n    name?: string;\n}"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"e266fc199ef2b4518ebfc29e96dc408311f01bf2","contentHash":"b7943924c86a54cfa0f7c6bb48cba42def90a658ec4d6a55467529e598046a23"},"/home/marabesi/Documents/php-import-checker/src/parser/Namespace.ts":{"path":"/home/marabesi/Documents/php-import-checker/src/parser/Namespace.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":27}},"2":{"start":{"line":4,"column":17},"end":{"line":4,"column":34}},"3":{"start":{"line":7,"column":8},"end":{"line":7,"column":31}},"4":{"start":{"line":10,"column":32},"end":{"line":10,"column":101}},"5":{"start":{"line":10,"column":85},"end":{"line":10,"column":99}},"6":{"start":{"line":11,"column":8},"end":{"line":19,"column":11}},"7":{"start":{"line":13,"column":12},"end":{"line":17,"column":13}},"8":{"start":{"line":14,"column":16},"end":{"line":14,"column":42}},"9":{"start":{"line":15,"column":16},"end":{"line":15,"column":40}},"10":{"start":{"line":16,"column":16},"end":{"line":16,"column":27}},"11":{"start":{"line":18,"column":12},"end":{"line":18,"column":23}},"12":{"start":{"line":22,"column":0},"end":{"line":22,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":4},"end":{"line":6,"column":5}},"loc":{"start":{"line":6,"column":25},"end":{"line":8,"column":5}},"line":6},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":4},"end":{"line":9,"column":5}},"loc":{"start":{"line":9,"column":29},"end":{"line":20,"column":5}},"line":9},"2":{"name":"(anonymous_2)","decl":{"start":{"line":10,"column":71},"end":{"line":10,"column":72}},"loc":{"start":{"line":10,"column":85},"end":{"line":10,"column":99}},"line":10},"3":{"name":"(anonymous_3)","decl":{"start":{"line":12,"column":17},"end":{"line":12,"column":18}},"loc":{"start":{"line":12,"column":26},"end":{"line":19,"column":9}},"line":12}},"branchMap":{"0":{"loc":{"start":{"line":13,"column":12},"end":{"line":17,"column":13}},"type":"if","locations":[{"start":{"line":13,"column":12},"end":{"line":17,"column":13}},{"start":{"line":13,"column":12},"end":{"line":17,"column":13}}],"line":13}},"s":{"0":1,"1":1,"2":1,"3":21,"4":21,"5":40,"6":21,"7":42,"8":3,"9":3,"10":3,"11":39,"12":1},"f":{"0":21,"1":21,"2":40,"3":42},"b":{"0":[3,39]},"inputSourceMap":{"version":3,"file":"/home/marabesi/Documents/php-import-checker/src/parser/Namespace.ts","sources":["/home/marabesi/Documents/php-import-checker/src/parser/Namespace.ts"],"names":[],"mappings":";;;AAAA,mCAAiC;AAGjC,MAAa,SAAS;IAElB,YAAoB,OAAY;QAAZ,YAAO,GAAP,OAAO,CAAK;IAAI,CAAC;IAErC,sBAAsB;QAClB,MAAM,eAAe,GAAiB,IAAA,gBAAO,EACzC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,QAAoB,EAAE,EAAE,CAAC,QAAQ,CAAC,KAAK,CAAC,CAC7D,CAAC;QAEF,OAAO,eAAe;aACjB,GAAG,CAAC,CAAC,GAAe,EAAE,EAAE;YACrB,IAAI,GAAG,CAAC,KAAK,EAAE;gBACX,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC;gBAC1B,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC;gBACxB,OAAO,GAAG,CAAC;aACd;YACD,OAAO,GAAG,CAAC;QACf,CAAC,CAAC,CAAC;IACX,CAAC;CACJ;AAnBD,8BAmBC","sourcesContent":["import { flatMap } from 'lodash';\nimport { PhpUseItem } from '../types/Nodes';\n\nexport class Namespace {\n\n    constructor(private useTree: any) { }\n\n    normalizeUseStatements(): PhpUseItem[] {\n        const extractUseItems: PhpUseItem[] = flatMap(\n            this.useTree.map((usegroup: PhpUseItem) => usegroup.items)\n        );\n\n        return extractUseItems\n            .map((use: PhpUseItem) => {\n                if (use.alias) {\n                    use.name = use.alias.name;\n                    use.loc = use.alias.loc;\n                    return use;\n                }\n                return use;\n            });\n    }\n}"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"4cbe0d3d4d0cc035700d3a5778e60f7bf8908b1e","contentHash":"458ee23b3ae030924ec4041c4ffaa2efc55c4e5b5b9b62160ce13d0b91e9d885"},"/home/marabesi/Documents/php-import-checker/src/parser/Method.ts":{"path":"/home/marabesi/Documents/php-import-checker/src/parser/Method.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":24}},"2":{"start":{"line":4,"column":17},"end":{"line":4,"column":34}},"3":{"start":{"line":7,"column":8},"end":{"line":7,"column":43}},"4":{"start":{"line":8,"column":8},"end":{"line":8,"column":80}},"5":{"start":{"line":8,"column":73},"end":{"line":8,"column":77}},"6":{"start":{"line":11,"column":8},"end":{"line":13,"column":55}},"7":{"start":{"line":12,"column":29},"end":{"line":12,"column":76}},"8":{"start":{"line":13,"column":34},"end":{"line":13,"column":53}},"9":{"start":{"line":16,"column":30},"end":{"line":16,"column":32}},"10":{"start":{"line":17,"column":28},"end":{"line":17,"column":124}},"11":{"start":{"line":17,"column":78},"end":{"line":17,"column":121}},"12":{"start":{"line":18,"column":34},"end":{"line":19,"column":70}},"13":{"start":{"line":19,"column":25},"end":{"line":19,"column":69}},"14":{"start":{"line":20,"column":8},"end":{"line":22,"column":57}},"15":{"start":{"line":21,"column":25},"end":{"line":21,"column":87}},"16":{"start":{"line":22,"column":31},"end":{"line":22,"column":55}},"17":{"start":{"line":23,"column":8},"end":{"line":29,"column":9}},"18":{"start":{"line":24,"column":12},"end":{"line":28,"column":13}},"19":{"start":{"line":25,"column":16},"end":{"line":27,"column":65}},"20":{"start":{"line":25,"column":44},"end":{"line":25,"column":53}},"21":{"start":{"line":26,"column":38},"end":{"line":26,"column":51}},"22":{"start":{"line":27,"column":39},"end":{"line":27,"column":63}},"23":{"start":{"line":30,"column":8},"end":{"line":30,"column":29}},"24":{"start":{"line":33,"column":32},"end":{"line":33,"column":87}},"25":{"start":{"line":33,"column":81},"end":{"line":33,"column":85}},"26":{"start":{"line":34,"column":37},"end":{"line":34,"column":109}},"27":{"start":{"line":34,"column":91},"end":{"line":34,"column":107}},"28":{"start":{"line":35,"column":29},"end":{"line":37,"column":50}},"29":{"start":{"line":35,"column":66},"end":{"line":35,"column":95}},"30":{"start":{"line":36,"column":31},"end":{"line":36,"column":62}},"31":{"start":{"line":37,"column":32},"end":{"line":37,"column":49}},"32":{"start":{"line":38,"column":8},"end":{"line":38,"column":28}},"33":{"start":{"line":41,"column":8},"end":{"line":44,"column":64}},"34":{"start":{"line":41,"column":65},"end":{"line":41,"column":108}},"35":{"start":{"line":42,"column":34},"end":{"line":42,"column":116}},"36":{"start":{"line":43,"column":34},"end":{"line":43,"column":53}},"37":{"start":{"line":44,"column":31},"end":{"line":44,"column":62}},"38":{"start":{"line":47,"column":0},"end":{"line":47,"column":24}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":4},"end":{"line":6,"column":5}},"loc":{"start":{"line":6,"column":31},"end":{"line":9,"column":5}},"line":6},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":63},"end":{"line":8,"column":64}},"loc":{"start":{"line":8,"column":73},"end":{"line":8,"column":77}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":10,"column":4},"end":{"line":10,"column":5}},"loc":{"start":{"line":10,"column":27},"end":{"line":14,"column":5}},"line":10},"3":{"name":"(anonymous_3)","decl":{"start":{"line":12,"column":17},"end":{"line":12,"column":18}},"loc":{"start":{"line":12,"column":29},"end":{"line":12,"column":76}},"line":12},"4":{"name":"(anonymous_4)","decl":{"start":{"line":13,"column":20},"end":{"line":13,"column":21}},"loc":{"start":{"line":13,"column":34},"end":{"line":13,"column":53}},"line":13},"5":{"name":"(anonymous_5)","decl":{"start":{"line":15,"column":4},"end":{"line":15,"column":5}},"loc":{"start":{"line":15,"column":33},"end":{"line":31,"column":5}},"line":15},"6":{"name":"(anonymous_6)","decl":{"start":{"line":17,"column":67},"end":{"line":17,"column":68}},"loc":{"start":{"line":17,"column":78},"end":{"line":17,"column":121}},"line":17},"7":{"name":"(anonymous_7)","decl":{"start":{"line":19,"column":17},"end":{"line":19,"column":18}},"loc":{"start":{"line":19,"column":25},"end":{"line":19,"column":69}},"line":19},"8":{"name":"(anonymous_8)","decl":{"start":{"line":21,"column":17},"end":{"line":21,"column":18}},"loc":{"start":{"line":21,"column":25},"end":{"line":21,"column":87}},"line":21},"9":{"name":"(anonymous_9)","decl":{"start":{"line":22,"column":21},"end":{"line":22,"column":22}},"loc":{"start":{"line":22,"column":31},"end":{"line":22,"column":55}},"line":22},"10":{"name":"(anonymous_10)","decl":{"start":{"line":25,"column":34},"end":{"line":25,"column":35}},"loc":{"start":{"line":25,"column":44},"end":{"line":25,"column":53}},"line":25},"11":{"name":"(anonymous_11)","decl":{"start":{"line":26,"column":28},"end":{"line":26,"column":29}},"loc":{"start":{"line":26,"column":38},"end":{"line":26,"column":51}},"line":26},"12":{"name":"(anonymous_12)","decl":{"start":{"line":27,"column":29},"end":{"line":27,"column":30}},"loc":{"start":{"line":27,"column":39},"end":{"line":27,"column":63}},"line":27},"13":{"name":"(anonymous_13)","decl":{"start":{"line":32,"column":4},"end":{"line":32,"column":5}},"loc":{"start":{"line":32,"column":34},"end":{"line":39,"column":5}},"line":32},"14":{"name":"(anonymous_14)","decl":{"start":{"line":33,"column":71},"end":{"line":33,"column":72}},"loc":{"start":{"line":33,"column":81},"end":{"line":33,"column":85}},"line":33},"15":{"name":"(anonymous_15)","decl":{"start":{"line":34,"column":79},"end":{"line":34,"column":80}},"loc":{"start":{"line":34,"column":91},"end":{"line":34,"column":107}},"line":34},"16":{"name":"(anonymous_16)","decl":{"start":{"line":35,"column":54},"end":{"line":35,"column":55}},"loc":{"start":{"line":35,"column":66},"end":{"line":35,"column":95}},"line":35},"17":{"name":"(anonymous_17)","decl":{"start":{"line":36,"column":17},"end":{"line":36,"column":18}},"loc":{"start":{"line":36,"column":31},"end":{"line":36,"column":62}},"line":36},"18":{"name":"(anonymous_18)","decl":{"start":{"line":37,"column":20},"end":{"line":37,"column":21}},"loc":{"start":{"line":37,"column":32},"end":{"line":37,"column":49}},"line":37},"19":{"name":"(anonymous_19)","decl":{"start":{"line":40,"column":4},"end":{"line":40,"column":5}},"loc":{"start":{"line":40,"column":27},"end":{"line":45,"column":5}},"line":40},"20":{"name":"(anonymous_20)","decl":{"start":{"line":41,"column":54},"end":{"line":41,"column":55}},"loc":{"start":{"line":41,"column":65},"end":{"line":41,"column":108}},"line":41},"21":{"name":"(anonymous_21)","decl":{"start":{"line":42,"column":20},"end":{"line":42,"column":21}},"loc":{"start":{"line":42,"column":34},"end":{"line":42,"column":116}},"line":42},"22":{"name":"(anonymous_22)","decl":{"start":{"line":43,"column":20},"end":{"line":43,"column":21}},"loc":{"start":{"line":43,"column":34},"end":{"line":43,"column":53}},"line":43},"23":{"name":"(anonymous_23)","decl":{"start":{"line":44,"column":17},"end":{"line":44,"column":18}},"loc":{"start":{"line":44,"column":31},"end":{"line":44,"column":62}},"line":44}},"branchMap":{"0":{"loc":{"start":{"line":12,"column":29},"end":{"line":12,"column":76}},"type":"cond-expr","locations":[{"start":{"line":12,"column":53},"end":{"line":12,"column":69}},{"start":{"line":12,"column":72},"end":{"line":12,"column":76}}],"line":12},"1":{"loc":{"start":{"line":12,"column":29},"end":{"line":12,"column":50}},"type":"binary-expr","locations":[{"start":{"line":12,"column":29},"end":{"line":12,"column":35}},{"start":{"line":12,"column":39},"end":{"line":12,"column":50}}],"line":12},"2":{"loc":{"start":{"line":17,"column":78},"end":{"line":17,"column":121}},"type":"cond-expr","locations":[{"start":{"line":17,"column":98},"end":{"line":17,"column":116}},{"start":{"line":17,"column":119},"end":{"line":17,"column":121}}],"line":17},"3":{"loc":{"start":{"line":17,"column":78},"end":{"line":17,"column":95}},"type":"binary-expr","locations":[{"start":{"line":17,"column":78},"end":{"line":17,"column":82}},{"start":{"line":17,"column":86},"end":{"line":17,"column":95}}],"line":17},"4":{"loc":{"start":{"line":19,"column":25},"end":{"line":19,"column":69}},"type":"cond-expr","locations":[{"start":{"line":19,"column":45},"end":{"line":19,"column":64}},{"start":{"line":19,"column":67},"end":{"line":19,"column":69}}],"line":19},"5":{"loc":{"start":{"line":19,"column":25},"end":{"line":19,"column":42}},"type":"binary-expr","locations":[{"start":{"line":19,"column":25},"end":{"line":19,"column":29}},{"start":{"line":19,"column":33},"end":{"line":19,"column":42}}],"line":19},"6":{"loc":{"start":{"line":21,"column":25},"end":{"line":21,"column":87}},"type":"cond-expr","locations":[{"start":{"line":21,"column":63},"end":{"line":21,"column":82}},{"start":{"line":21,"column":85},"end":{"line":21,"column":87}}],"line":21},"7":{"loc":{"start":{"line":21,"column":25},"end":{"line":21,"column":60}},"type":"binary-expr","locations":[{"start":{"line":21,"column":25},"end":{"line":21,"column":29}},{"start":{"line":21,"column":33},"end":{"line":21,"column":42}},{"start":{"line":21,"column":46},"end":{"line":21,"column":60}}],"line":21},"8":{"loc":{"start":{"line":24,"column":12},"end":{"line":28,"column":13}},"type":"if","locations":[{"start":{"line":24,"column":12},"end":{"line":28,"column":13}},{"start":{"line":24,"column":12},"end":{"line":28,"column":13}}],"line":24},"9":{"loc":{"start":{"line":35,"column":66},"end":{"line":35,"column":95}},"type":"cond-expr","locations":[{"start":{"line":35,"column":77},"end":{"line":35,"column":90}},{"start":{"line":35,"column":93},"end":{"line":35,"column":95}}],"line":35},"10":{"loc":{"start":{"line":36,"column":31},"end":{"line":36,"column":62}},"type":"cond-expr","locations":[{"start":{"line":36,"column":42},"end":{"line":36,"column":55}},{"start":{"line":36,"column":58},"end":{"line":36,"column":62}}],"line":36},"11":{"loc":{"start":{"line":41,"column":65},"end":{"line":41,"column":108}},"type":"cond-expr","locations":[{"start":{"line":41,"column":85},"end":{"line":41,"column":103}},{"start":{"line":41,"column":106},"end":{"line":41,"column":108}}],"line":41},"12":{"loc":{"start":{"line":41,"column":65},"end":{"line":41,"column":82}},"type":"binary-expr","locations":[{"start":{"line":41,"column":65},"end":{"line":41,"column":69}},{"start":{"line":41,"column":73},"end":{"line":41,"column":82}}],"line":41},"13":{"loc":{"start":{"line":42,"column":34},"end":{"line":42,"column":116}},"type":"cond-expr","locations":[{"start":{"line":42,"column":72},"end":{"line":42,"column":109}},{"start":{"line":42,"column":112},"end":{"line":42,"column":116}}],"line":42},"14":{"loc":{"start":{"line":42,"column":34},"end":{"line":42,"column":69}},"type":"binary-expr","locations":[{"start":{"line":42,"column":34},"end":{"line":42,"column":44}},{"start":{"line":42,"column":48},"end":{"line":42,"column":69}}],"line":42}},"s":{"0":1,"1":1,"2":1,"3":21,"4":21,"5":21,"6":21,"7":21,"8":21,"9":21,"10":21,"11":21,"12":21,"13":9,"14":21,"15":9,"16":9,"17":21,"18":9,"19":8,"20":2,"21":2,"22":2,"23":21,"24":21,"25":21,"26":21,"27":21,"28":21,"29":14,"30":14,"31":14,"32":21,"33":21,"34":21,"35":9,"36":4,"37":4,"38":1},"f":{"0":21,"1":21,"2":21,"3":21,"4":21,"5":21,"6":21,"7":9,"8":9,"9":9,"10":2,"11":2,"12":2,"13":21,"14":21,"15":21,"16":14,"17":14,"18":14,"19":21,"20":21,"21":9,"22":4,"23":4},"b":{"0":[1,20],"1":[21,21],"2":[16,5],"3":[21,21],"4":[2,7],"5":[9,9],"6":[1,8],"7":[9,9,2],"8":[8,1],"9":[12,2],"10":[10,4],"11":[16,5],"12":[21,21],"13":[5,4],"14":[9,9]},"inputSourceMap":{"version":3,"file":"/home/marabesi/Documents/php-import-checker/src/parser/Method.ts","sources":["/home/marabesi/Documents/php-import-checker/src/parser/Method.ts"],"names":[],"mappings":"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","sourcesContent":["import { flatMap } from 'lodash';\nimport { Node } from 'php-parser';\nimport { PhpClassMethod } from '../types/Nodes';\n\nexport class Method {\n\n    private methods: PhpClassMethod[];\n\n    constructor(private parsedMethods: PhpClassMethod[]) {\n        this.methods = flatMap(parsedMethods.map((body: Node) => body));\n    }\n\n    normalizeReturnTypes(): string[] {\n        return this.methods\n            .map((method: any) => method && method.type ? method.type.name : null)\n            .filter(returnType => returnType !== null)\n    }\n\n    normalizeCallInsideMethods(): string[] {\n        const unusedImports: string[] = [];\n        const bodyMethods = flatMap(this.methods.map((body: any) => (body && body.body ? body.body.children : [])))\n\n        const callInsideMethods = bodyMethods\n            .map(item => item && item.expr ? item.expr.arguments : [])\n\n        bodyMethods\n            .map(item => item && item.expr && item.expr.what ? item.expr.what.name : [])\n            .forEach((item: any) => unusedImports.push(item))\n\n        for (const argumentsCall of callInsideMethods) {\n            if (argumentsCall) {\n                argumentsCall.map((item: any) => item.name)\n                    .filter((item: any) => item !== null)\n                    .forEach((item: any) => unusedImports.push(item))\n            }\n        }\n\n        return unusedImports;\n    }\n\n    normalizeMethodArgumentList(): string[] {\n        const methodStructure: PhpClassMethod[] = flatMap(this.methods.map((body: Node) => body));\n        const argumentsFromMethods = flatMap(methodStructure.map((method: PhpClassMethod) => method.arguments));\n        const argumentList: string[] = argumentsFromMethods.map(argument => argument ? argument.type : [])\n            .map((argument: any) => argument ? argument.name : null)\n            .filter(argument => argument !== null);\n\n        return argumentList;\n    }\n\n    normalizeMethodCalls(): string[] {\n        return flatMap(this.methods.map((body: any) => (body && body.body ? body.body.children : [])))\n            .filter(invokation => invokation && invokation.expression ? invokation.expression.kind === 'call' : null)\n            .filter(invokation => invokation !== null)\n            .map(invokation => invokation.expression.what.name);\n    }\n}"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"f593a3cfb0a77ed77c6c6aab1830dc30fd5384ac","contentHash":"d500f41e35b3f423b4e82480c8212f8b47944e1331e8e68956b7853e6201f015"},"/home/marabesi/Documents/php-import-checker/src/parser/Expression.ts":{"path":"/home/marabesi/Documents/php-import-checker/src/parser/Expression.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":28}},"2":{"start":{"line":6,"column":8},"end":{"line":6,"column":39}},"3":{"start":{"line":9,"column":33},"end":{"line":9,"column":111}},"4":{"start":{"line":9,"column":73},"end":{"line":9,"column":110}},"5":{"start":{"line":10,"column":38},"end":{"line":10,"column":118}},"6":{"start":{"line":10,"column":78},"end":{"line":10,"column":117}},"7":{"start":{"line":11,"column":30},"end":{"line":11,"column":32}},"8":{"start":{"line":12,"column":8},"end":{"line":16,"column":11}},"9":{"start":{"line":13,"column":12},"end":{"line":15,"column":13}},"10":{"start":{"line":14,"column":16},"end":{"line":14,"column":73}},"11":{"start":{"line":17,"column":8},"end":{"line":21,"column":11}},"12":{"start":{"line":18,"column":12},"end":{"line":20,"column":13}},"13":{"start":{"line":19,"column":16},"end":{"line":19,"column":74}},"14":{"start":{"line":22,"column":8},"end":{"line":22,"column":29}},"15":{"start":{"line":25,"column":0},"end":{"line":25,"column":32}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":4},"end":{"line":5,"column":5}},"loc":{"start":{"line":5,"column":29},"end":{"line":7,"column":5}},"line":5},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":4},"end":{"line":8,"column":5}},"loc":{"start":{"line":8,"column":27},"end":{"line":23,"column":5}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":9,"column":57},"end":{"line":9,"column":58}},"loc":{"start":{"line":9,"column":73},"end":{"line":9,"column":110}},"line":9},"3":{"name":"(anonymous_3)","decl":{"start":{"line":10,"column":62},"end":{"line":10,"column":63}},"loc":{"start":{"line":10,"column":78},"end":{"line":10,"column":117}},"line":10},"4":{"name":"(anonymous_4)","decl":{"start":{"line":12,"column":33},"end":{"line":12,"column":34}},"loc":{"start":{"line":12,"column":49},"end":{"line":16,"column":9}},"line":12},"5":{"name":"(anonymous_5)","decl":{"start":{"line":17,"column":38},"end":{"line":17,"column":39}},"loc":{"start":{"line":17,"column":54},"end":{"line":21,"column":9}},"line":17}},"branchMap":{"0":{"loc":{"start":{"line":13,"column":12},"end":{"line":15,"column":13}},"type":"if","locations":[{"start":{"line":13,"column":12},"end":{"line":15,"column":13}},{"start":{"line":13,"column":12},"end":{"line":15,"column":13}}],"line":13},"1":{"loc":{"start":{"line":13,"column":16},"end":{"line":13,"column":116}},"type":"binary-expr","locations":[{"start":{"line":13,"column":16},"end":{"line":13,"column":26}},{"start":{"line":13,"column":30},"end":{"line":13,"column":51}},{"start":{"line":13,"column":55},"end":{"line":13,"column":81}},{"start":{"line":13,"column":85},"end":{"line":13,"column":116}}],"line":13},"2":{"loc":{"start":{"line":18,"column":12},"end":{"line":20,"column":13}},"type":"if","locations":[{"start":{"line":18,"column":12},"end":{"line":20,"column":13}},{"start":{"line":18,"column":12},"end":{"line":20,"column":13}}],"line":18},"3":{"loc":{"start":{"line":18,"column":16},"end":{"line":18,"column":82}},"type":"binary-expr","locations":[{"start":{"line":18,"column":16},"end":{"line":18,"column":26}},{"start":{"line":18,"column":30},"end":{"line":18,"column":51}},{"start":{"line":18,"column":55},"end":{"line":18,"column":82}}],"line":18}},"s":{"0":1,"1":1,"2":21,"3":21,"4":5,"5":21,"6":5,"7":21,"8":21,"9":4,"10":2,"11":21,"12":1,"13":1,"14":21,"15":1},"f":{"0":21,"1":21,"2":5,"3":5,"4":4,"5":1},"b":{"0":[2,2],"1":[4,4,4,4],"2":[1,0],"3":[1,1,1]},"inputSourceMap":{"version":3,"file":"/home/marabesi/Documents/php-import-checker/src/parser/Expression.ts","sources":["/home/marabesi/Documents/php-import-checker/src/parser/Expression.ts"],"names":[],"mappings":";;;AAEA,MAAa,UAAU;IAEnB,YAAoB,WAA4B;QAA5B,gBAAW,GAAX,WAAW,CAAiB;IAAI,CAAC;IAErD,oBAAoB;QAChB,MAAM,gBAAgB,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC,UAAe,EAAE,EAAE,CAAC,UAAU,CAAC,UAAU,CAAC,IAAI,KAAK,MAAM,CAAC,CAAC;QAC7G,MAAM,qBAAqB,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC,UAAe,EAAE,EAAE,CAAC,UAAU,CAAC,UAAU,CAAC,IAAI,KAAK,QAAQ,CAAC,CAAC;QACpH,MAAM,aAAa,GAAa,EAAE,CAAC;QAEnC,gBAAgB,CAAC,OAAO,CAAC,CAAC,UAAe,EAAE,EAAE;YACzC,IAAI,UAAU,IAAI,UAAU,CAAC,UAAU,IAAI,UAAU,CAAC,UAAU,CAAC,IAAI,IAAI,UAAU,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,EAAE;gBACtG,aAAa,CAAC,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;aAC5D;QACL,CAAC,CAAC,CAAC;QAEH,qBAAqB,CAAC,OAAO,CAAC,CAAC,UAAe,EAAE,EAAE;YAC9C,IAAI,UAAU,IAAI,UAAU,CAAC,UAAU,IAAI,UAAU,CAAC,UAAU,CAAC,KAAK,EAAE;gBACpE,aAAa,CAAC,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;aAC7D;QACL,CAAC,CAAC,CAAA;QAEF,OAAO,aAAa,CAAC;IACzB,CAAC;CACJ;AAvBD,gCAuBC","sourcesContent":["import { PhpExpression } from '../types/Nodes';\n\nexport class Expression {\n\n    constructor(private expressions: PhpExpression[]) { }\n\n    normalizeExpressions(): string[] {\n        const expressionsCalls = this.expressions.filter((expression: any) => expression.expression.kind === 'call');\n        const expressionsAssigments = this.expressions.filter((expression: any) => expression.expression.kind === 'assign');\n        const unusedImports: string[] = [];\n\n        expressionsCalls.forEach((expression: any) => {\n            if (expression && expression.expression && expression.expression.what && expression.expression.what.what) {\n                unusedImports.push(expression.expression.what.what.name);\n            }\n        });\n\n        expressionsAssigments.forEach((expression: any) => {\n            if (expression && expression.expression && expression.expression.right) {\n                unusedImports.push(expression.expression.right.what.name);\n            }\n        })\n\n        return unusedImports;\n    }\n}"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"2795f017641af17012b54ca03c78b8c05ff74cc6","contentHash":"fed1e94636f1817866db47b7ba679bfaa544cce6055c649c81cbb397bad4a343"}}